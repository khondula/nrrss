---
title: "Browse the NRRSS Database"
output:
  html_document:
    toc: true
    toc_float: true
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Background

In 2004, the National River Restoration Scientific Synthesis (NRRSS) database was compiled by a team of ~20 scientists.  This was the first-ever comprehensive database on stream and river restoration projects. It includes basic information on more than 37,000 projects across the U.S. It resulted in many publications with the broad national-level results published in Science. Lead scientists for the project were: M.A. Palmer (Univ of Maryland), J.D. Allan (Univ Michigan), and E.S. Bernhardt (postdoc at Univ of Maryland; now faculty at Duke University).  The project included a collaboration with American Rivers and benefitted from funding from the National Center for Ecological Analysis and Synthesis, the Packard Foundation, the C.S. Mott Foundation; cyber support was provided by the U.S. Geological Survey.

## Publications resulting from the NRRSS database

### NRRSS national synthesis (entire U.S.) papers:

#### 2005 

- Bernhardt, Emily S.; Palmer, Margaret A.; Allan, J. David; Alexander, Gretchen; Barnas, Katie; Brooks, Shane; Carr, Jamie; Clayton, Steve; Dahm, Clifford; Follstad-Shah, Jennifer; Galat, David L.; Gloss, Steven P.; Goodwin, Peter; Hart, David; Hassett, Brooke; Jenkinson, Robin; Katz, Stephen L.; Kondolf, G. Mathias; Lake, P. Sam; Lave, Rebecca; Meyer, Judy; O'Donnell, T. Kevin; Pagano, Laura; Powell, Bruce; Sudduth, Elizabeth. 2005. [Synthesizing US river restoration efforts](https://github.com/palmerlab-umd/palmerlab-umd.github.io/raw/master/publications/Palmerpublications/Bernhardt2005.pdf). Science. Vol: 308(5722). Pages 636-637.

- Palmer, Margaret A.; Bernhardt, Emily S.; Allan, J. David; Lake, P. Sam; Alexander, Gretchen; Brooks, Shane; Carr, Jamie; Clayton, Steve; Dahm, Clifford; Follstad-Shah, Jennifer; Galat, David L.; Loss, S. G.; Goodwin, Peter; Hart, David; Hassett, Brooke; Jenkinson, Robin; Kondolf, G. Mathias; Lave, Rebecca; Meyer, Judy; O'Donnell, T. Kevin; Pagano, Laura; Sudduth, Elizabeth. 2005. [Standards for ecologically successful river restoration](https://github.com/palmerlab-umd/palmerlab-umd.github.io/raw/master/publications/Palmerpublications/Palmer_et_al_Standards_for_Ecol_Successful_Restoration.pdf). Journal of Applied Ecology. Vol: 42. Pages 208-217.

#### 2006

- Palmer, Margaret A. and J. David Allan. 2006. [Restoring Rivers](https://github.com/palmerlab-umd/palmerlab-umd.github.io/raw/master/publications/Palmerpublications/Palmer_and_Allan_Federal_Policy_And_Restoration_IST_2006.pdf). 2006. Policy Recommendations to Enhance Effectiveness of River Restoration published in U. S. National Academy of Science: Issues in Science and Technology, 22: 40 - 48.  

#### 2007

- Palmer, Margaret A.; Allan, J. David; Meyer, Judy; Bernhardt, Emily S. 2007. [River restoration in the Twenty-First Century: Data and experiential knowledge to inform future efforts](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00243.x/abstract). Restoration Ecology. Vol: 15(3). Pages 472-481

- Bernhardt, Emily S.; Sudduth, Elizabeth; Palmer, Margaret A.; Allan, J. David; Meyer, Judy; Alexander, Gretchen; Follstad-Shah, Jennifer; Hassett, Brooke; Jenkinson, Robin; Lave, Rebecca; Rumps, Jeanne M.; Pagano, Laura. 2007. [Restoring rivers one reach at a time: Results from a survey of U.S. river restoration practitioners](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00244.x/abstract). Restoration Ecology. Vol: 15(3). Pages 482-493.


### Regional Synthesis Papers

#### 2005

- Hassett, Brooke; Palmer, Margaret A.; Bernhardt, Emily S.; Smith, Sean; Carr, Jamie; Hart, David. 2005. [Restoring watersheds project by project: Trends in Chesapeake Bay tributary restoration](https://github.com/palmerlab-umd/palmerlab-umd.github.io/raw/master/publications/Palmerpublications/Hassett2005.pdf). Frontiers in Ecology and the Environment. Vol: 3(5). Pages 259-267.

#### 2006

- Alexander, Gretchen G. and J. David Allan.  2006.  [Ecological success in stream restoration: case studies from the Midwestern United States](http://www.ncbi.nlm.nih.gov/pubmed/17557171).   Environmental Management 

#### 2007

- Barnas, Katie; Katz, Stephen L. 2010. [The Challenges of tracking Habitat Restoration at Various Spatial Scales](http://www.tandfonline.com/doi/abs/10.1577/1548-8446-35.5.232). Fisheries. Vol: 35(5). Pages 232-241.

- Brooks, Shane; Lake, P. Sam. 2007. [River restoration in Victoria, Australia: Change is in the wind, and none too soon](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00253.x/abstract). Restoration Ecology. Vol: 15(3). Pages 584-591.

- Follstad-Shah, Jennifer; Dahm, Clifford; Gloss, Steven P.; Bernhardt, Emily S. 2007. [River and riparian restoration in the southwest: Results of the National River Restoration Science Synthesis Project](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00250.x/abstract). Restoration Ecology. Vol: 15(3). Pages 550-562.

- Hassett, Brooke; Palmer, Margaret A.; Bernhardt, Emily S. 2007. [Evaluating stream restoration in the Chesapeake Bay watershed through practitioner interviews](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00251.x/abstract). Restoration Ecology. Vol: 15(3). Pages 563-572.

- Katz, Stephen L.; Barnas, Katie; Hicks, Ryan; Cowen, Jeff; Jenkinson, Robin. 2007. [Freshwater habitat restoration actions in the Pacific Northwest: A decade's investment in habitat improvement](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00245.x/abstract). Restoration Ecology. Vol: 15(3). Pages 494-505.

- Kondolf, G. Mathias; Anderson, Shannah; Lave, Rebecca; Pagano, Laura; Merenlender, Adina M.; Bernhardt, Emily S. 2007. [Two decades of river restoration in California: What can we learn?](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00247.x/abstract). Restoration Ecology. Vol: 15(3). Pages 516-523.

- Rumps, Jeanne M.; Katz, Stephen L.; Barnas, Katie; Morehead, Mark; Jenkinson, Robin; Clayton, Steve; Goodwin, Peter. 2007. [Stream restoration in the Pacific Northwest: Analysis of interviews with project managers](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00246.x/full). Restoration Ecology. Vol: 15(3). Pages 506-515.

- Sudduth, Elizabeth; Meyer, Judy; Bernhardt, Emily S. 2007. [Stream restoration practices in the southeastern United States](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00252.x/abstract). Restoration Ecology. Vol: 15(3). Pages 573-583.

- Tompkins, Mark R.; Kondolf, G. Mathias. 2007. [Systematic postproject appraisals to maximise lessons learned from river restoration projects: Case study of compound channel restoration projects in northern California](http://onlinelibrary.wiley.com/doi/10.1111/j.1526-100X.2007.00248.x/abstract). Restoration Ecology. Vol: 15(3). Pages 524-537.


# How to access the database

NRRSS is available as an sqlite database (13.7 MB) that you can download by clicking [this link](https://github.com/khondula/nrrss/raw/master/nrrss.sqlite). The NRRSS is a relational database, organized into 45 tables with pre-defined relationships between them. The primary method for interacting with a relational database is by using Structure Query Language (SQL). Information about development of the original database is available in the Supporting Online Material of the original Science publication [here](https://science.sciencemag.org/content/sci/suppl/2005/04/28/308.5722.636.DC1/pfBernhardt.SOM.pdf). 

Here are some tools for viewing information once you have downloaded the file: 

* Online [SQLite Viewer](https://inloop.github.io/sqlite-viewer/)
* Download [DB Browser for SQLite](https://sqlitebrowser.org/)

## R Users

The [RSQLite](https://rsqlite.r-dbi.org/) package provides an interface to working with `.sqlite` files in R. Create a connection object using the `dbConnect()` function and specifying the location of the file:

```{r}
# install.packages("RSQLite")
library(RSQLite)
db <- dbConnect(SQLite(), "nrrss.sqlite")
```

List all tables in the database:

```{r}
dbListTables(db)
```

List the column names in a specific table:

```{r}
dbListFields(db, "nrrss_record_table")
```

Use SQL queries to view information in a table:

```{r}
dbGetQuery(db, "SELECT * FROM nrrss_record_table LIMIT 10")
```

Read an entire table into R:

```{r}
recs <- dbReadTable(db, "nrrss_record_table")
head(recs)
```

Use join or filter statements to use information linked to other tables by foriegn keys. For example, node_number refers to different geographic regions and the codes are defined in the table nrrss_node_table. 

```{r}
dbGetQuery(db, "SELECT * FROM nrrss_node_table")
```

